import{abs as e,acos as t,asin as n,atan2 as r,cos as i,epsilon as a,halfPi as o,max as s,min as c,pi as l,sin as u,sqrt as d,tau as f}from"./mermaid-b5860b54.CzyV0eq4.js";import{constant_default as p,withPath as m}from"./path.CnsJDNhh.js";function h(e){return e.innerRadius}function g(e){return e.outerRadius}function _(e){return e.startAngle}function v(e){return e.endAngle}function y(e){return e&&e.padAngle}function b(e,t,n,r,i,o,s,c){var l=n-e,u=r-t,d=s-i,f=c-o,p=f*l-d*u;if(!(p*p<a))return p=(d*(t-o)-f*(e-i))/p,[e+p*l,t+p*u]}function x(e,t,n,r,i,a,o){var c=e-n,l=t-r,u=(o?a:-a)/d(c*c+l*l),f=u*l,p=-u*c,m=e+f,h=t+p,g=n+f,_=r+p,v=(m+g)/2,y=(h+_)/2,b=g-m,x=_-h,S=b*b+x*x,C=i-a,w=m*_-g*h,T=(x<0?-1:1)*d(s(0,C*C*S-w*w)),E=(w*x-b*T)/S,D=(-w*b-x*T)/S,O=(w*x+b*T)/S,k=(-w*b+x*T)/S,A=E-v,j=D-y,M=O-v,N=k-y;return A*A+j*j>M*M+N*N&&(E=O,D=k),{cx:E,cy:D,x01:-f,y01:-p,x11:E*(i/C-1),y11:D*(i/C-1)}}function S(){var s=h,S=g,C=p(0),w=null,T=_,E=v,D=y,O=null,k=m(A);function A(){var p,m,h=+s.apply(this,arguments),g=+S.apply(this,arguments),_=T.apply(this,arguments)-o,v=E.apply(this,arguments)-o,y=e(v-_),A=v>_;if(O||=p=k(),g<h&&(m=g,g=h,h=m),!(g>a))O.moveTo(0,0);else if(y>f-a)O.moveTo(g*i(_),g*u(_)),O.arc(0,0,g,_,v,!A),h>a&&(O.moveTo(h*i(v),h*u(v)),O.arc(0,0,h,v,_,A));else{var j=_,M=v,N=_,P=v,F=y,I=y,L=D.apply(this,arguments)/2,R=L>a&&(w?+w.apply(this,arguments):d(h*h+g*g)),z=c(e(g-h)/2,+C.apply(this,arguments)),B=z,V=z,H,U;if(R>a){var W=n(R/h*u(L)),G=n(R/g*u(L));(F-=W*2)>a?(W*=A?1:-1,N+=W,P-=W):(F=0,N=P=(_+v)/2),(I-=G*2)>a?(G*=A?1:-1,j+=G,M-=G):(I=0,j=M=(_+v)/2)}var K=g*i(j),q=g*u(j),J=h*i(P),Y=h*u(P);if(z>a){var X=g*i(M),Z=g*u(M),Q=h*i(N),ee=h*u(N),$;if(y<l)if($=b(K,q,Q,ee,X,Z,J,Y)){var te=K-$[0],ne=q-$[1],re=X-$[0],ie=Z-$[1],ae=1/u(t((te*re+ne*ie)/(d(te*te+ne*ne)*d(re*re+ie*ie)))/2),oe=d($[0]*$[0]+$[1]*$[1]);B=c(z,(h-oe)/(ae-1)),V=c(z,(g-oe)/(ae+1))}else B=V=0}I>a?V>a?(H=x(Q,ee,K,q,g,V,A),U=x(X,Z,J,Y,g,V,A),O.moveTo(H.cx+H.x01,H.cy+H.y01),V<z?O.arc(H.cx,H.cy,V,r(H.y01,H.x01),r(U.y01,U.x01),!A):(O.arc(H.cx,H.cy,V,r(H.y01,H.x01),r(H.y11,H.x11),!A),O.arc(0,0,g,r(H.cy+H.y11,H.cx+H.x11),r(U.cy+U.y11,U.cx+U.x11),!A),O.arc(U.cx,U.cy,V,r(U.y11,U.x11),r(U.y01,U.x01),!A))):(O.moveTo(K,q),O.arc(0,0,g,j,M,!A)):O.moveTo(K,q),!(h>a)||!(F>a)?O.lineTo(J,Y):B>a?(H=x(J,Y,X,Z,h,-B,A),U=x(K,q,Q,ee,h,-B,A),O.lineTo(H.cx+H.x01,H.cy+H.y01),B<z?O.arc(H.cx,H.cy,B,r(H.y01,H.x01),r(U.y01,U.x01),!A):(O.arc(H.cx,H.cy,B,r(H.y01,H.x01),r(H.y11,H.x11),!A),O.arc(0,0,h,r(H.cy+H.y11,H.cx+H.x11),r(U.cy+U.y11,U.cx+U.x11),A),O.arc(U.cx,U.cy,B,r(U.y11,U.x11),r(U.y01,U.x01),!A))):O.arc(0,0,h,P,N,A)}if(O.closePath(),p)return O=null,p+``||null}return A.centroid=function(){var e=(+s.apply(this,arguments)+ +S.apply(this,arguments))/2,t=(+T.apply(this,arguments)+ +E.apply(this,arguments))/2-l/2;return[i(t)*e,u(t)*e]},A.innerRadius=function(e){return arguments.length?(s=typeof e==`function`?e:p(+e),A):s},A.outerRadius=function(e){return arguments.length?(S=typeof e==`function`?e:p(+e),A):S},A.cornerRadius=function(e){return arguments.length?(C=typeof e==`function`?e:p(+e),A):C},A.padRadius=function(e){return arguments.length?(w=e==null?null:typeof e==`function`?e:p(+e),A):w},A.startAngle=function(e){return arguments.length?(T=typeof e==`function`?e:p(+e),A):T},A.endAngle=function(e){return arguments.length?(E=typeof e==`function`?e:p(+e),A):E},A.padAngle=function(e){return arguments.length?(D=typeof e==`function`?e:p(+e),A):D},A.context=function(e){return arguments.length?(O=e??null,A):O},A}export{S as arc_default};